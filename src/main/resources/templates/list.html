<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>食色-列表</title>
  <!-- 引入Element-UI样式 -->
  <link rel="stylesheet" href="/dist/element-ui/lib/theme-chalk/index.css">
  <link rel="stylesheet" href="/common/css/index.css">
  <link rel="stylesheet" href="/common/css/common.css">
  <link rel="stylesheet" href="/common/css/list.css">
  <link rel="stylesheet" href="/common/css/hearder-nav.css">
  <!--<link rel="stylesheet" href="/common/css/list-item.css">-->
  <link rel="stylesheet" href="/common/css/subject.css">
  <style>


  </style>
</head>

<body>
  <div id="app" v-cloak>
    <el-container>
      <el-header class="header">
        <header id="header" class="header bg-white animated headroom--top headroom--not-bottom">
          <div class="navbar-container">
            <a href="/indexPage" class="navbar-logo">
              <img src="/images/jiandan.png" alt="煎蛋">
            </a>
            <el-autocomplete class="inline-input" v-model="searchInfo.query" :fetch-suggestions="autocompleteAsync" placeholder="请输入内容" :trigger-on-focus="false"
                             @select="searchResultsSelect">
              <i slot="prefix" class="el-input__icon el-icon-search"></i>
              <el-button slot="append" @click="search">搜索</el-button>
            </el-autocomplete>
            <div class="navbar-menu">
              <a href="/listPage?type=recipe">创意菜谱</a>
              <a href="/listPage?type=subject">主题菜单</a>
              <a href="/listPage?type=foodnote">食记</a>
              <a href="/recipeEditPage" v-if="userInfo.isLogin !== false">
                <!-- 写作按钮 -->
                <el-tooltip content="创建菜谱吧！" placement="bottom" effect="light">
                  <img class="writer-icon" src="data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxwYXRoIGQ9Ik00OTkuOSwxMEMyMjkuNCwxMCwxMCwyMjkuNCwxMCw1MDBjMCwyNzAuNywyMTkuNCw0OTAsNDg5LjksNDkwQzc3MC42LDk5MCw5OTAsNzcwLjYsOTkwLDUwMEM5OTAsMjI5LjQsNzcwLjYsMTAsNDk5LjksMTB6IE00OTkuOSw5NTVDMjQ4LjYsOTU1LDQ1LDc1MS4zLDQ1LDUwMGMwLTI1MS4zLDIwMy43LTQ1NSw0NTUtNDU1Qzc1MS4zLDQ1LDk1NSwyNDguNyw5NTUsNTAwQzk1NSw3NTEuMyw3NTEuMyw5NTUsNDk5LjksOTU1eiIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjxwYXRoIGQ9Ik03NDUsMjU2bC0xLjItMS4yYy01OC41LTU4LjMtMTUzLjUtNTguNC0yMTEuOC0wLjNMMjEyLjMsNTczLjFsMi42LDEuNmMtMi45LDIuNS0zLjksNi4xLTMuOSwxMC4zdjE5MS4zYzAsNy41LDQsMTIuNywxMS42LDEyLjdoMTkyYzQuMiwwLDcuOC0xLjUsMTAuMy00LjRsMC43LDAuOUw3NDUuMyw0NjdDODAzLjYsNDA4LjksODAzLjQsMzE0LjMsNzQ1LDI1NnogTTI2NC4zLDczNC41Yy03LjMtNy4zLTEyLjEtOS4zLTI1LjgtNy4zVjYwOC45bDY3LjksMi40bDEuNyw2NS4xbC0wLjgsMTQuOWwwLjksMGwtMC4xLDFMMzIzLDY5Mmw2NS41LDEuOGwyLjQsNjcuOUgyNzAuOEMyNzMuMiw3NDgsMjcxLjgsNzQyLDI2NC4zLDczNC41eiBNNjA4LjcsNDQ4LjdMMzg5LjcsNjY2LjlsLTU1LjEtMS45bC0yLTU3LjJsMjE3LjgtMjE3LjFMNjA4LjcsNDQ4Ljd6IE00MjUuMyw3NDcuM2MtMC4zLDAuNC0wLjUsMC45LTAuOSwxLjNjLTIuMSwyLjEtNC4yLDQuMS02LjMsNi4xbC0yLjUtNzIuMmwwLjEtMi44TDYyOCw0NjguMWwzOC44LDM4LjZMNDI1LjYsNzQ3LjF2MEM0MjUuNSw3NDcuMiw0MjUuNCw3NDcuMiw0MjUuMyw3NDcuM3ogTTUxMS43LDMxMy40bDE5LjQtMTkuM2wxNzQuNSwxNzRsLTE5LjQsMTkuM0w1MTEuNywzMTMuNHogTTI1MC41LDU3My41YzAuMy0wLjQsMC43LTAuNSwxLjEtMC44bDI0MC43LTI0MGwzOC44LDM4LjVMMzE3LjQsNTg0aC0wLjJsLTc0LjgtMi40QzI0NS4xLDU3OC45LDI0Ny44LDU3Ni40LDI1MC41LDU3My41eiBNNzI1LjksNDQ3LjhsLTAuOSwwLjlsLTE3NC41LTE3NGwwLjktMC45YzQ3LjYtNDcuNSwxMjUuMy00Ny40LDE3MywwLjJsMS4yLDEuMkM3NzMuNSwzMjIuOSw3NzMuNSw0MDAuMyw3MjUuOSw0NDcuOHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48L2c+PC9zdmc+ICA=">
                </el-tooltip>
              </a>
              <a href="/foodnoteEditPage" v-if="userInfo.isLogin !== false">
                <!-- 写作按钮 -->
                <el-tooltip content="创建食记吧！" placement="bottom" effect="light">
                  <img class="writer-icon" src="data:image/png;base64,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">
                </el-tooltip>
              </a>
            </div>
            <div class="navbar-user">
              <a href="/loginPage" v-if="userInfo.isLogin === false">
                <span class="el-dropdown-link">
                  <el-tooltip content="未登录哦！" placement="bottom" effect="light">
                    <img class="user-hearder" src="/images/login_avatar.png" alt="">
                  </el-tooltip>
                </span>
              </a>
              <a :href=" '/userPage?uid=' + userInfo.id " v-else>
                <el-dropdown @command="dropdownComand">
                  <span class="el-dropdown-link">
                    <img class="user-hearder" :src="userInfo.avatar" :alt="userInfo.avatar">
                  </span>
                  <el-dropdown-menu slot="dropdown">
                    <el-dropdown-item icon="el-icon-menu" command=" /userPage">个人中心</el-dropdown-item>
                    <el-dropdown-item icon="el-icon-document" command="/listPage">菜谱集</el-dropdown-item>
                    <el-dropdown-item icon="el-icon-document" command="/listPage">菜单集</el-dropdown-item>
                    <el-dropdown-item icon="el-icon-star-off" command="">收藏的文章</el-dropdown-item>
                    <el-dropdown-item divided icon="el-icon-close" command="signOut">退出</el-dropdown-item>
                  </el-dropdown-menu>
                </el-dropdown>
              </a>
            </div>
          </div>
        </header>
      </el-header>
      <el-main class="content-wapper">
        <el-row type="flex" justify="space-around">
          <el-col :span="16">
            <header class="list-header clearfix">
              <h1 class="list-title">{{listPageInfo.pageTitle}}</h1>
              <div class="list-solt">
                <div>
                  <a class="active" href="">最新</a>
                </div>
                <div>
                  <a href="">最火</a>
                </div>
              </div>
            </header>

            <div id="recipe-list-container" style="padding: 0px 20px" v-show="listPageInfo.listType === 'recipe' ">
              <ul class="note-list" >
                <li class="have-img" v-for="(item, index) in recipeInfoList.list" :key="'note-' + item.id">
                  <a class="wrap-img" :href="recipe_href + item.id">
                    <img class=" img-blur-done" :src="item.cover" :alt="item.title">
                  </a>
                  <div class="content">
                    <div class="author">
                      <a class="avatar"  :href="user_href + item.authorId">
                        <img :src="item.authorAvatar" :alt="item.authorAvatar">
                      </a>
                      <div class="info">
                        <a class="nickname" :href="user_href + item.authorId">{{item.authorUsername}}</a>
                        <span class="time">{{item.releaseTime}}</span>
                      </div>
                    </div>
                    <a class="title" :href="recipe_href + item.id">{{item.title}}</a>
                    <p class="abstract">
                      {{item.synopsis}}
                    </p>
                    <div class="meta">
                      <a :href="recipe_href + item.id ">
                        <i class="el-icon-view"></i> {{item.readCount}}
                      </a>
                      <a :href="recipe_href + item.id + '#comment-list'">
                        <i class="el-icon-tickets"></i> {{item.goodCount}}
                      </a>
                    </div>
                  </div>
                </li>
              </ul>
              <div class="center">
                <el-button class="load-more" type="" round icon="el-icon-loading"
                           @click="getRecipeInfoList(recipeInfoList.nextPage, recipeInfoList.pageSize )"
                           v-if="recipeInfoList.hasNextPage">加载更多</el-button>
                <el-button class="load-more" type="" round icon="el-icon-arrow-up"
                           @click="returnTop"
                           v-else >没有更多了</el-button>
              </div>
            </div>

            <!--主题列表-->
            <div id="subject-list-container" style="padding: 0px 20px" v-show="listPageInfo.listType === 'subject' ">
              <ul class="note-list" >
                <li class="have-img" v-for="(item, index) in subjectInfoList.list" :key="'note-' + item.id">
                  <a class="wrap-img" :href="subject_href + item.id">
                    <img class=" img-blur-done" :src="item.cover" :alt="item.title">
                  </a>
                  <div class="content">
                    <div class="author">
                      <a class="avatar"  :href="user_href + item.creatorId">
                        <img :src="item.creatorAvatar" :alt="item.creatorAvatar">
                      </a>
                      <div class="info">
                        <a class="nickname" :href="user_href + item.creatorId">{{item.creatorUsername}}</a>
                        <span class="time">{{item.releaseTime}}</span>
                      </div>
                    </div>
                    <a class="title" :href="subject_href + item.id">{{item.title}}</a>
                    <p class="abstract">
                      {{item.synopsis}}
                    </p>
                    <div class="meta">
                      <a :href="subject_href + item.id ">
                        <i class="el-icon-view"></i> {{item.readCount}}
                      </a>
                      <a :href="subject_href + item.id + '#comment-list'">
                        <i class="el-icon-tickets"></i> {{item.goodCount}}
                      </a>
                    </div>
                  </div>
                </li>
              </ul>
              <div class="center">
                <el-button class="load-more" type="" round icon="el-icon-loading"
                           @click="getSubjectInfoList(subjectInfoList.nextPage, subjectInfoList.pageSize )"
                           v-if="subjectInfoList.hasNextPage">加载更多</el-button>
                <el-button class="load-more" type="" round icon="el-icon-arrow-up"
                           @click="returnTop"
                           v-else >没有更多了</el-button>
              </div>
            </div>


            <div id="foodnote-list-container" style="padding: 0px 20px" v-show="listPageInfo.listType === 'foodnote' ">
              <ul class="note-list" >
                <li class="have-img" v-for="(item, index) in foodnoteInfoList.list" :key="'note-' + item.id">
                  <a class="wrap-img" :href="foodnote_href + item.id">
                    <img class=" img-blur-done" :src="item.cover" :alt="item.title">
                  </a>
                  <div class="content">
                    <div class="author">
                      <a class="avatar"  :href="user_href + item.authorId">
                        <img :src="item.authorAvatar" :alt="item.authorAvatar">
                      </a>
                      <div class="info">
                        <a class="nickname" :href="user_href + item.authorId">{{item.authorUsername}}</a>
                        <span class="time">{{item.releaseTime}}</span>
                      </div>
                    </div>
                    <a class="title" :href="foodnote_href + item.id">{{item.title}}</a>
                    <p class="abstract">
                      {{item.synopsis}}
                    </p>
                    <div class="meta">
                      <a :href="foodnote_href + item.id ">
                        <i class="el-icon-view"></i> {{item.readCount}}
                      </a>
                      <a :href="foodnote_href + item.id + '#comment-list'">
                        <i class="el-icon-tickets"></i> {{item.goodCount}}
                      </a>
                    </div>
                  </div>
                </li>
              </ul>
              <div class="center">
                <el-button class="load-more" type="" round icon="el-icon-loading"
                           @click="getFoodnoteInfoList(foodnoteInfoList.nextPage, foodnoteInfoList.pageSize )"
                           v-if="foodnoteInfoList.hasNextPage">加载更多</el-button>
                <el-button class="load-more" type="" round icon="el-icon-arrow-up"
                           @click="returnTop"
                           v-else >没有更多了</el-button>
              </div>
            </div>

          </el-col>

          <el-col class="right-box" :span="8" >
            <!-- 推荐作者列表 -->
            <section class="recommended-authors">
                <header class="recommended-header">
                  <h2 class="title">推荐作者</h2>
                  <!-- <a class="page-change">
                    <i class="iconfont ic-search-change" style="transform: rotate(0deg);"></i>
                    换一批
                  </a> -->
                </header>
                <ul class="authors-list">
                  <li v-for="(item, index) in this.list" :key="item.goodCount">
                    <a href="/u/5SqsuF?utm_source=desktop&amp;utm_medium=index-users" target="_blank" class="avatar">
                      <img src="//upload.jianshu.io/users/upload_avatars/6287/06c537002583.png?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96">
                    </a>
                    <a class="follow" state="0">
                      <i class="el-icon-plus"></i>关注
                    </a>
                    <a class="name" href="/u/5SqsuF?utm_source=desktop&amp;utm_medium=index-users" target="_blank" class="name">
                      刘淼
                    </a>
                    <p>
                      写了409.9k字 · 22.3k喜欢
                    </p>
                  </li>
                </ul>
                <a href="/recommendations/users?utm_source=desktop&amp;utm_medium=index-users" target="_blank" >
                  <div class="find-more">
                      查看全部
                      <i class="el-icon-arrow-right"></i>
                  </div>
                </a>
            </section>
            <!-- 推荐列表 -->
            <section class="recommended-list" >
              <header class="recommended-header">
                <h2 class="title">大家都爱吃</h2>
              </header>
              <ul>
                <li :span="24" v-for="(item, index) in this.list" :key="item.goodCount">
                  <a href="###">
                    <div class="thumbnail">
                      <img :src="item.carverPath" :alt="item.title">
                      <div class="caption">
                        <div class="item-title">好好吃啊</div>
                      </div>
                    </div>
                  </a>
                </li>
              </ul>
              <a href="/recommendations/users?utm_source=desktop&amp;utm_medium=index-users" target="_blank" >
                <div class="find-more">
                    查看全部
                    <i class="el-icon-arrow-right"></i>
                </div>
              </a>
            </section>
          </el-col>
        </el-row>
      </el-main>
      <el-footer class="footer-warpper">
        <div class="footer-container">Copyright © 2017 liezh.com All Rights Reserved | 京ICP备 13046642号-2</div>
      </el-footer>
    </el-container>
  </div>

</body>
<!-- 先引入 Vue -->
<script src="/dist/vue.js"></script>
<!-- 引入Element-UI组件库 -->
<script src="/dist/element-ui/lib/index.js"></script>
<script src="/dist/axios.min.js"></script>
<!-- 工具方法文件 -->
<script src="/common/js/main.js"></script>
<script>
  const IMG_PATH = "../images/";
  new Vue({
    el: '#app',
    data: function () {
      return {
          subject_href : '/subjectPage?sid=',
          user_href : '/userPage?uid=',
          recipe_href : '/recipePage?rid=',
          foodnote_href : '/foodnotePage?fid=',
          searchInfo: {
              query: '',
          },
          userInfo: {
              id : '',
              username : '',
              name : '',
              avatar : '',
              isLogin: false
          },
          listPageInfo: {
              pageTitle: '',
              listType: '',
          },

          listTypeEnum: [
              {
                  type: 'recipe',
                  text: '菜谱'
              },
              {
                  type: 'subject',
                  text: '主题菜单'
              },
              {
                  type: 'foodnote',
                  text: '食记'
              }
          ],

          recipeInfoList: {},
          subjectInfoList: {},
          foodnoteInfoList: {},

      }
    },

      methods: {
          dropdownComand(command) {
              let self = this;
              if (command == 'signOut') {
                  // 清除用户信息
                  Util.authTokenRemove();
                  Util.userInfoRemove();
                  window.location.href = '/loginPage';
                  return;
              }
              window.location.href = command + "?uid=" + this.userInfo.id;
          },
          // 异步搜索提示
          autocompleteAsync(queryString, cb) {
              if (queryString !== '') {
                  axios.get('/api/autocomplete?query=' + queryString).then((response) => {
                      let res = response.data;
                  if (res.code == 1000) {
                      let results = res.data;
                      cb(results);
                  } else {
                      console.log(`code : ${res.code}, msg : ${res.msg}`);
                  }

              }).
                  catch((err) => {
                      console.log(err);
              });
              }
          },
          // 搜索框的选择事件
          searchResultsSelect(queryString) {
              console.log(queryString);
          },
          search() {
              self.location = '/searchPage?query=' + this.searchInfo.query;
          },
          returnTop() {
              Util.returnTop();
          },
          returnTop() {
              Util.returnTop();
          },

          // 业务逻辑
          getListByType(pageNum, pageSize) {
              let self = this;
              if (self.listPageInfo.listType === 'recipe') {
                  self.getRecipeInfoList(pageNum, pageSize);
              } else if(self.listPageInfo.listType === 'subject') {
                  self.getSubjectInfoList(pageNum, pageSize);
              } else if (self.listPageInfo.listType === 'foodnote') {
                  self.getFoodnoteInfoList(pageNum, pageSize);
              } else {
                  this.$notify.warning({
                      title: '不存在该分类',
                      message: `CODE：${res.code}  MSG：${res.msg}`
                  });
                  window.location.href = '/indexPage';
              }

          },

          getFoodnoteInfoList(pageNum, pageSize) {
              let self = this;
              axios.get(`/api/f/search?pageNum=${pageNum}&pageSize=${pageSize}`, {
                  headers: {
                      'Authorization': Util.authTokenGetter()
                  }
              }).then((response) => {
                  let res = response.data;
              if(res.code == 1000) {
                  let oldList = self.foodnoteInfoList.list || [];
                  self.foodnoteInfoList = res.data;
                  self.foodnoteInfoList.list = oldList.concat(self.foodnoteInfoList.list);
              } else {
                  this.$notify.warning({
                      title: '获取列表失败',
                      message: `CODE：${res.code}  MSG：${res.msg}`
                  });
              }
          }).catch((err) => {
                  console.log(err);
          });
          },
          getSubjectInfoList(pageNum, pageSize) {
              let self = this;
              axios.get(`/api/s/search?pageNum=${pageNum}&pageSize=${pageSize}`, {
                  headers: {
                      'Authorization': Util.authTokenGetter()
                  }
              }).then((response) => {
                  let res = response.data;
              if(res.code == 1000) {
                  let oldList = self.subjectInfoList.list || [];
                  self.subjectInfoList = res.data;
                  self.subjectInfoList.list = oldList.concat(self.subjectInfoList.list);
              } else {
                  this.$notify.warning({
                      title: '获取列表失败',
                      message: `CODE：${res.code}  MSG：${res.msg}`
                  });
              }
          }).catch((err) => {
                  console.log(err);
          });
          },
          getRecipeInfoList(pageNum, pageSize) {
              let self = this;
              axios.get(`/api/r/search?pageNum=${pageNum}&pageSize=${pageSize}`, {
                  headers: {
                      'Authorization': Util.authTokenGetter()
                  }
              }).then((response) => {
                  let res = response.data;
              if(res.code == 1000) {
                  let oldList = self.recipeInfoList.list || [];
                  self.recipeInfoList = res.data;
                  self.recipeInfoList.list = oldList.concat(self.recipeInfoList.list);
              } else {
                  this.$notify.warning({
                      title: '获取列表失败',
                      message: `CODE：${res.code}  MSG：${res.msg}`
                  });
              }
          }).catch((err) => {
                  console.log(err);
          });
          },

          //   右边推荐栏
          getRecommendAuthorInfoList() {
              let self = this;
          },
          getRecommendRecipeInfoList() {
              let self = this;
          }



      },
      created: function() {
          let self = this;
          let request = Util.getRequest();
          self.listPageInfo.listType = request['type'];
          self.listTypeEnum.forEach((item, index, arr) => {
              if (item.type === self.listPageInfo.listType) {
                    self.listPageInfo.pageTitle = item.text;
              }
          });
          self.getListByType(1, 10);
      },
      mounted() {
          let self = this;
          //  vue 开始挂载渲染时获取
          self.userInfo = Util.loginUserInfoGetter();
      }
  });
</script>

</html>