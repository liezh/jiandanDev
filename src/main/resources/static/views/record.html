<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>食色-主页</title>
  <!-- 引入Element-UI样式 -->
  <link rel="stylesheet" href="../dist/element-ui/lib/theme-chalk/index.css">
  <link rel="stylesheet" href="../common/css/common.css">
  <!-- <link rel="stylesheet" href="../dist/bootstrap-3.3.7/dist/css/bootstrap.min.css"> -->
  <link rel="stylesheet" href="../common/css/hearder-nav.css">
  <link rel="stylesheet" href="../dist/editorMD/css/editormd.css" />
  <link rel="stylesheet" href="../common/css/recipe.css">
</head>
<style>
  .right-box {
    padding: 15px;
  }
  article, aside, footer, header, hgroup, main, nav, section {
    display: block;
}
</style>

<body>
  <div id="app">
    <el-container>
      <el-header class="header">
        <header id="header" class="header bg-white animated headroom--top headroom--not-bottom">
          <div class="navbar-container">
            <a href="./index.html" class="navbar-logo">
              <img src="https://www.linpx.com/usr/themes/pinghsu/images/logo.png" alt="LiNPX">
            </a>
            <el-autocomplete class="inline-input" v-model="state" :fetch-suggestions="querySearchAsync" placeholder="请输入内容" :trigger-on-focus="false"
              @select="handleSelect">
              <i slot="prefix" class="el-input__icon el-icon-search"></i>
              <el-button slot="append">搜索</el-button>
            </el-autocomplete>
            <div class="navbar-menu">
              <a href="./list.html">创意菜谱</a>
              <a href="./list.html">主题菜单</a>
              <a href="https://www.linpx.com/about.html">食记</a>
              <a href="./edit.html">
                <!-- 写作按钮 -->
                <img class="writer-icon" src="data:image/svg+xml;base64,CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEwMDAgMTAwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwMCAxMDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPG1ldGFkYXRhPiDnn6Lph4/lm77moIfkuIvovb0gOiBodHRwOi8vd3d3LnNmb250LmNuLyA8L21ldGFkYXRhPjxnPjxwYXRoIGQ9Ik00OTkuOSwxMEMyMjkuNCwxMCwxMCwyMjkuNCwxMCw1MDBjMCwyNzAuNywyMTkuNCw0OTAsNDg5LjksNDkwQzc3MC42LDk5MCw5OTAsNzcwLjYsOTkwLDUwMEM5OTAsMjI5LjQsNzcwLjYsMTAsNDk5LjksMTB6IE00OTkuOSw5NTVDMjQ4LjYsOTU1LDQ1LDc1MS4zLDQ1LDUwMGMwLTI1MS4zLDIwMy43LTQ1NSw0NTUtNDU1Qzc1MS4zLDQ1LDk1NSwyNDguNyw5NTUsNTAwQzk1NSw3NTEuMyw3NTEuMyw5NTUsNDk5LjksOTU1eiIgc3R5bGU9ImZpbGw6IzU2YWJlNCI+PC9wYXRoPjxwYXRoIGQ9Ik03NDUsMjU2bC0xLjItMS4yYy01OC41LTU4LjMtMTUzLjUtNTguNC0yMTEuOC0wLjNMMjEyLjMsNTczLjFsMi42LDEuNmMtMi45LDIuNS0zLjksNi4xLTMuOSwxMC4zdjE5MS4zYzAsNy41LDQsMTIuNywxMS42LDEyLjdoMTkyYzQuMiwwLDcuOC0xLjUsMTAuMy00LjRsMC43LDAuOUw3NDUuMyw0NjdDODAzLjYsNDA4LjksODAzLjQsMzE0LjMsNzQ1LDI1NnogTTI2NC4zLDczNC41Yy03LjMtNy4zLTEyLjEtOS4zLTI1LjgtNy4zVjYwOC45bDY3LjksMi40bDEuNyw2NS4xbC0wLjgsMTQuOWwwLjksMGwtMC4xLDFMMzIzLDY5Mmw2NS41LDEuOGwyLjQsNjcuOUgyNzAuOEMyNzMuMiw3NDgsMjcxLjgsNzQyLDI2NC4zLDczNC41eiBNNjA4LjcsNDQ4LjdMMzg5LjcsNjY2LjlsLTU1LjEtMS45bC0yLTU3LjJsMjE3LjgtMjE3LjFMNjA4LjcsNDQ4Ljd6IE00MjUuMyw3NDcuM2MtMC4zLDAuNC0wLjUsMC45LTAuOSwxLjNjLTIuMSwyLjEtNC4yLDQuMS02LjMsNi4xbC0yLjUtNzIuMmwwLjEtMi44TDYyOCw0NjguMWwzOC44LDM4LjZMNDI1LjYsNzQ3LjF2MEM0MjUuNSw3NDcuMiw0MjUuNCw3NDcuMiw0MjUuMyw3NDcuM3ogTTUxMS43LDMxMy40bDE5LjQtMTkuM2wxNzQuNSwxNzRsLTE5LjQsMTkuM0w1MTEuNywzMTMuNHogTTI1MC41LDU3My41YzAuMy0wLjQsMC43LTAuNSwxLjEtMC44bDI0MC43LTI0MGwzOC44LDM4LjVMMzE3LjQsNTg0aC0wLjJsLTc0LjgtMi40QzI0NS4xLDU3OC45LDI0Ny44LDU3Ni40LDI1MC41LDU3My41eiBNNzI1LjksNDQ3LjhsLTAuOSwwLjlsLTE3NC41LTE3NGwwLjktMC45YzQ3LjYtNDcuNSwxMjUuMy00Ny40LDE3MywwLjJsMS4yLDEuMkM3NzMuNSwzMjIuOSw3NzMuNSw0MDAuMyw3MjUuOSw0NDcuOHoiIHN0eWxlPSJmaWxsOiM1NmFiZTQiPjwvcGF0aD48L2c+PC9zdmc+ICA=">
              </a>
            </div>
            <a href="https://www.linpx.com/search.html" class="navbar-user">
              <el-dropdown>
                <span class="el-dropdown-link">
                  <img class="user-hearder" src="../images/po.jpg" alt="">
                </span>
                <el-dropdown-menu slot="dropdown">
                  <el-dropdown-item>
                    <span slot="prefix" class="el-icon-menu"></span>个人中心</el-dropdown-item>
                  <el-dropdown-item icon="el-icon-document">作品集</el-dropdown-item>
                  <el-dropdown-item icon="el-icon-document">菜单集</el-dropdown-item>
                  <el-dropdown-item icon="el-icon-star-off">收藏的文章</el-dropdown-item>
                  <el-dropdown-item divided icon="el-icon-close">退出</el-dropdown-item>
                </el-dropdown-menu>
              </el-dropdown>
            </a>
          </div>
        </header>
      </el-header>
      <el-main class="content-wapper">
        <el-col :span="18" class="left-box">
          <article class="main-content" itemscope="" itemtype="http://schema.org/Article">
            <!--  文章头  -->
            <div class="article-header">
              <h1 class="article-title"> 冬枣鲜桃水 </h1>
              <div class="author">
                <a class="avatar" href="/u/72ef66aa3ce5">
                  <img src="//upload.jianshu.io/users/upload_avatars/4154850/285191bc-7317-4ac5-ae23-ee6fa9d52280.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96"
                    alt="96">
                </a>
                <div class="info">
                  <span class="name">
                    <a href="/u/72ef66aa3ce5">宁采野花不采臣</a>
                  </span>
                  <!-- 关注用户按钮 -->
                  <a class="el-button el-button--default el-button--mini is-round">
                    <i class="el-icon-plus"></i>
                    <span>关注</span>
                  </a>
                  <!-- 菜谱数据信息 -->
                  <div class="meta">
                    <!-- 如果文章更新时间大于发布时间，那么使用 tooltip 显示更新时间 -->
                    <span class="publish-time">2017.12.02 19:05</span>
                    <span class="wordage">字数 4423</span>
                    <span class="views-count">阅读 142</span>
                    <span class="comments-count">评论 28</span>
                    <span class="likes-count">喜欢 42</span>
                  </div>
                </div>
                <div class="aritcle-tags">
                  <a href="#3">
                    <el-tag size="small">甜品</el-tag>
                  </a>
                  <a href="#2">
                    <el-tag size="small">elasticsearch</el-tag>
                  </a>
                  <a href="#1">
                    <el-tag size="small">kibana</el-tag>
                  </a>
                </div>
                <!-- 如果是当前作者，加入编辑按钮 -->
              </div>
            </div>
            <div id="editormd-view">
              <textarea id="append-test" style="display:none;"></textarea>
            </div>
          </article>
          <section>
            <!-- 作者信息 -->
            <div class="author-detail">
              <div class="info">
                <a class="avatar" href="/u/72ef66aa3ce5">
                  <img src="//upload.jianshu.io/users/upload_avatars/4154850/285191bc-7317-4ac5-ae23-ee6fa9d52280.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96"
                    alt="96">
                </a>
                <a class="follow el-button el-button--success is-round">
                  <i class="el-icon-plus"></i>
                  <span>关注</span>
                </a>
                <a class="title" href="/u/72ef66aa3ce5">宁采野花不采臣</a>
                <p>被 65 人关注，获得了 940 个喜欢</p>
              </div>
              <div class="desc">腾讯视频认证青年导演 执往昔工作室导演|编剧 映像city影视传媒创始人 原陕西省青年文联副主席 锐志杂志社主编 影匙传媒广告创意总监 烽火传媒媒介总监 天津编剧家协会成员 剧作家协会会员 中国加拿大国际青年电影节提名导演
                中国影视联盟会员 映像city电影工作室创始人 如果你也对电影很感兴趣，欢迎关注我的微博提交你的创意或者剧本，期待你的加入。 嘘——其实，我们都很有趣。 余生三千友，交者百余，知己二三。 余命万余日，奔劳过半，余之何何？
                故，学的少而问的多，不喜欺骗不谈过往，最恶褒贬酬答，一日三两餐无规律，从前不挽留，以后不将就。总之，欢迎和我一起活在梦里。 微信公众号：映像city影视传播 天天快报认证个人号：宁采野花不采臣 接电影剧本投稿，请注意投稿格式。
                我已加入“维权骑士”(rightknights.com)的版权保护计划。

              </div>
            </div>
            <div id="comment-box" class="comment-box">
              <form class="new-comment">
                <a class="avatar">
                  <img src="http://cdn2.jianshu.io/assets/default_avatar/14-0651acff782e7a18653d7530d6b27661.jpg">
                </a>
                <textarea placeholder="写下你的评论..."></textarea>
                <div class="comment-btn-box">
                  <!-- 按钮组 -->
                  <a class="send el-button el-button--success is-round">发送</a>
                  <a class="cancle el-button el-button--text">取消</a>
                </div>
              </form>
            </div>
            <div id="comment-list" class="comment-list">
              <div class="top-title">
                <span>36条评论</span>
                <a class="author-only">只看作者</a>
                <a class="close-btn" style="display: none;">关闭评论</a>
                <div class="pull-right">
                  <a class="active">按喜欢排序</a>
                  <a class="">按时间正序</a>
                  <a class="">按时间倒序</a>
                </div>
              </div>
              <div id="comment-18051896" class="comment">
                <div>
                  <div class="author">
                    <div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;">
                      <div class="v-tooltip-content">
                        <a href="/u/ba09c8753104" target="_blank" class="avatar">
                          <img src="//upload.jianshu.io/users/upload_avatars/9329301/cf10035e-6d6a-43f6-ae82-664f0548fe46.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/114/h/114">
                        </a>
                      </div>
                      <!---->
                    </div>
                    <div class="info">
                      <a href="/u/ba09c8753104" target="_blank" class="name">就爱狮子先生</a>
                      <!---->
                      <!---->
                      <div class="meta">
                        <span>4楼 · 2017.12.02 19:57</span>
                      </div>
                    </div>
                  </div>
                  <div class="comment-wrap">
                    <p>大大继续加油⊙▽⊙</p>
                    <!-- <div class="tool-group">
                      <a class="">
                        <i class="iconfont ic-zan"></i>
                        <span>1人赞</span>
                      </a>
                      <a class="">
                        <i class="iconfont ic-comment"></i>
                        <span>回复</span>
                      </a>
                      <a class="report">
                        <span>举报</span>
                      </a>
                    </div> -->
                  </div>
                </div>
                <!-- <div class="sub-comment-list hide">
                </div> -->
              </div>
            </div>
          </section>

        </el-col>
        <el-col :span="6" class="right-box">
          <div class="markdown-body editormd-preview-container" id="custom-container"></div>
        </el-col>
      </el-main>
      <el-footer class="footer-warpper">
        <div class="footer-container">Copyright © 2017 liezh.com All Rights Reserved | 京ICP备 13046642号-2</div>
      </el-footer>
    </el-container>
  </div>

</body>
<!-- 先引入 Vue -->
<script src="../dist/vue.js"></script>
<!-- 引入Element-UI组件库 -->
<script src="../dist/element-ui/lib/index.js"></script>
<script src="../dist/axios.min.js"></script>
<script src="../dist/jquery.min.js"></script>
<script src="../dist/editorMD/lib/marked.min.js"></script>
<script src="../dist/editorMD/lib/prettify.min.js"></script>
<script src="../dist/editorMD/lib/raphael.min.js"></script>
<script src="../dist/editorMD/lib/underscore.min.js"></script>
<script src="../dist/editorMD/lib/sequence-diagram.min.js"></script>
<script src="../dist/editorMD/lib/flowchart.min.js"></script>
<script src="../dist/editorMD/lib/jquery.flowchart.min.js"></script>
<script src="../dist/editorMD/js/editormd.min.js"></script>
<script>
  const IMG_PATH = "../images/";
  new Vue({
    el: '#app',
    data: function () {
      return {
        searchInput: 'search',
        state: '',
        restaurants: [],
        timeout: 3000,
        editormdView: ''
      }
    },
    methods: {
      // 异步搜索提示
      querySearchAsync(queryString, cb) {
        var restaurants = this.restaurants;
        var results = queryString ? restaurants.filter(this.createStateFilter(queryString)) : restaurants;

        clearTimeout(this.timeout);
        this.timeout = setTimeout(() => {
          cb(results);
        }, 3000);
      },
      createStateFilter(queryString) {
        return (state) => {
          return (state.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0);
        };
      },
      handleSelect(item) {
        console.log(item);
      }
    },
    mounted() {
      axios.get('../common/temp/queryList.json', {}).then((res) => {
        this.restaurants = res.data;
      }).catch((err) => {
        console.log(err);
      });
      $.get("../common/temp/markdown.md", function (markdown) {
        // });

        // axios.get('../common/temp/markdown.md', {}).then((res) => {
        console.log("------>" + markdown);
        editormdView = editormd.markdownToHTML("editormd-view", {
          markdown: markdown,
          //htmlDecode      : true,       // 开启 HTML 标签解析，为了安全性，默认不开启
          htmlDecode: "style,script,iframe",  // you can filter tags decode
          //toc             : false,
          tocm: true,    // Using [TOCM]
          tocContainer: "#custom-container", // 自定义 ToC 容器层
          //gfm             : false,
          //tocDropdown     : true,
          markdownSourceCode: true, // 是否保留 Markdown 源码，即是否删除保存源码的 Textarea 标签
          taskList: true,
          tex: true,  // 默认不解析
          flowChart: true,  // 默认不解析
          sequenceDiagram: true,  // 默认不解析
        });
        // 获取Markdown源码
        //console.log(testEditormdView.getMarkdown());

      });




    }
  });
</script>

</html>